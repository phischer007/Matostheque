(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[696],{53184:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(87462),s=n(63366),a=n(67294),o=n(90512),i=n(58510),l=n(44063),c=n(71657),u=n(90948),f=n(1977),d=n(8027);function h(e){return(0,d.ZP)("MuiTableHead",e)}(0,f.Z)("MuiTableHead",["root"]);var x=n(85893);let j=["className","component"],Z=e=>{let{classes:t}=e;return(0,i.Z)({root:["root"]},h,t)},g=(0,u.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),p={variant:"head"},w="thead";var m=a.forwardRef(function(e,t){let n=(0,c.Z)({props:e,name:"MuiTableHead"}),{className:a,component:i=w}=n,u=(0,s.Z)(n,j),f=(0,r.Z)({},n,{component:i}),d=Z(f);return(0,x.jsx)(l.Z.Provider,{value:p,children:(0,x.jsx)(g,(0,r.Z)({as:i,className:(0,o.Z)(d.root,a),ref:t,role:i===w?null:"rowgroup",ownerState:f},u))})})},76481:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/myloans",function(){return n(67347)}])},67347:function(e,t,n){"use strict";n.r(t);var r=n(85893),s=n(67294),a=n(9008),o=n.n(a),i=n(94781),l=n(88005),c=n(98964),u=n(5616),f=n(65582),d=n(51233),h=n(86886),x=n(53219),j=n(15861),Z=n(69417);n(34656);var g=n(356),p=n(9487),w=n(35858),m=n(93477),_=n(64352),v=n(99565),b=n(41664),P=n.n(b);let C=(e,t,n)=>(0,s.useMemo)(()=>(0,m.i)(n,e,t),[e,t,n]),S=(e,t)=>{for(let n in e)if("string"==typeof e[n]&&e[n].toLowerCase().includes(t.toLowerCase())||"object"==typeof e[n]&&S(e[n],t))return!0;return!1},k=()=>{let[e,t]=(0,s.useState)(null),[n,a]=(0,s.useState)(null),[g,m]=(0,s.useState)(""),[b,k]=(0,s.useState)(0),[y,E]=(0,s.useState)(5),[N,T]=(0,s.useState)("loans"),L=(0,v.a)().user;L.is_staff;let M=L.is_staff?"settings":"/create/create-loan";(0,s.useEffect)(()=>{let e;e=L.is_staff?"".concat(_.Z.apiUrl,"/loans/details/"):"".concat(_.Z.apiUrl,"/loans/details/user/").concat(L.user_id,"/"),fetch(e).then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(e=>{t(e)}).catch(e=>{console.error("Error fetching data:",e)})},[N,L.user_id,L.owner_id]),(0,s.useEffect)(()=>{a(g?e.filter(e=>S(e,g)):e)},[g,e]);let R=C(b,y,n),H=(0,s.useCallback)((e,t)=>{k(t)},[]),I=(0,s.useCallback)(e=>{E(e.target.value)},[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o(),{children:(0,r.jsx)("title",{children:"Loans"})}),(0,r.jsx)(u.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,r.jsx)(f.Z,{maxWidth:"xl",children:(0,r.jsxs)(d.Z,{spacing:3,children:[(0,r.jsxs)(h.ZP,{container:!0,xs:12,justifyContent:"space-between",alignItems:"center",children:[(0,r.jsxs)(h.ZP,{xs:6,gap:1,container:!0,alignItems:"center",children:[(0,r.jsx)(x.Z,{fontSize:"medium",children:(0,r.jsx)(i.Z,{})}),(0,r.jsx)(j.Z,{variant:"h4",align:"center",children:"Loans"})]}),(0,r.jsx)(h.ZP,{xs:6,container:!0,justifyContent:"flex-end",children:(0,r.jsx)(Z.Z,{component:P(),href:M,startIcon:(0,r.jsx)(x.Z,{fontSize:"small",children:L.is_staff?(0,r.jsx)(c.Z,{}):(0,r.jsx)(l.Z,{})}),variant:"contained",children:L.is_staff?"Loan Settings":"Borrow"})})]}),(0,r.jsxs)(d.Z,{direction:"column",justifyContent:"space-between",spacing:4,children:[(0,r.jsx)(w.a,{searchTerm:g,onSearchChange:e=>{m(e.target.value)}}),n&&(0,r.jsx)(p.s,{count:n.length,items:R,onPageChange:H,onRowsPerPageChange:I,page:b,rowsPerPage:y,userRole:L.role,activeTab:"loans"})]})]})})})]})};k.getLayout=e=>(0,r.jsx)(g.A,{children:e}),t.default=k}},function(e){e.O(0,[839,294,589,740,360,886,375,25,356,149,774,888,179],function(){return e(e.s=76481)}),_N_E=e.O()}]);